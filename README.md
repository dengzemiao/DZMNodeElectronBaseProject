## DZMNodeElectronBaseProject

* Node: v22.12.0
* Electron: v39.x
* è‡ªç”¨ `Node Electron` åŸºç¡€ç©ºæ¡†æ¶ï¼Œæ–¹ä¾¿å¿«é€Ÿè¿›å…¥å¼€å‘è°ƒè¯•

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
DZMNodeElectronBaseProject/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main/                     # ä¸»è¿›ç¨‹ä»£ç 
â”‚   â”‚   â””â”€â”€ main.js              # ä¸»è¿›ç¨‹å…¥å£ï¼ˆç®¡ç†çª—å£ã€ç³»ç»ŸåŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ preload/                 # é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â””â”€â”€ preload.js           # å®‰å…¨æ¡¥æ¥å±‚ï¼ˆä¸»è¿›ç¨‹ â†” æ¸²æŸ“è¿›ç¨‹ï¼‰
â”‚   â””â”€â”€ renderer/                # æ¸²æŸ“è¿›ç¨‹ä»£ç 
â”‚       â”œâ”€â”€ index.html           # é¡µé¢ç»“æ„
â”‚       â”œâ”€â”€ css/                 # æ ·å¼æ–‡ä»¶
â”‚       â”‚   â””â”€â”€ style.css        # ä¸»æ ·å¼
â”‚       â””â”€â”€ js/                  # å‰ç«¯è„šæœ¬
â”‚           â””â”€â”€ renderer.js      # é¡µé¢é€»è¾‘
â”œâ”€â”€ assets/                      # èµ„æºæ–‡ä»¶ï¼ˆå›¾æ ‡ã€å›¾ç‰‡ç­‰ï¼‰
â”œâ”€â”€ dist/                        # æ‰“åŒ…è¾“å‡ºç›®å½•
â”œâ”€â”€ node_modules/               
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸ” æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### 1ï¸âƒ£ **ä¸»è¿›ç¨‹ (Main Process)** - `src/main/main.js`
- **ä½œç”¨**ï¼šåº”ç”¨çš„å…¥å£ï¼Œæ§åˆ¶åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
- **è´Ÿè´£**ï¼šåˆ›å»ºçª—å£ã€ç³»ç»Ÿèœå•ã€æ‰˜ç›˜å›¾æ ‡ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- **ç‰¹ç‚¹**ï¼šå¯ä»¥ä½¿ç”¨æ‰€æœ‰ Node.js å’Œ Electron çš„ä¸»è¿›ç¨‹ API

### 2ï¸âƒ£ **æ¸²æŸ“è¿›ç¨‹ (Renderer Process)** - `src/renderer/`
- **ä½œç”¨**ï¼šæ˜¾ç¤ºç”¨æˆ·ç•Œé¢
- **è´Ÿè´£**ï¼šé¡µé¢æ¸²æŸ“ã€ç”¨æˆ·äº¤äº’ã€å‰ç«¯é€»è¾‘
- **ç‰¹ç‚¹**ï¼šç±»ä¼¼ç½‘é¡µï¼Œå¯ä»¥ä½¿ç”¨ HTML/CSS/JavaScript

### 3ï¸âƒ£ **é¢„åŠ è½½è„šæœ¬ (Preload Script)** - `src/preload/preload.js`
- **ä½œç”¨**ï¼šä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„**å®‰å…¨æ¡¥æ¢**
- **é‡è¦æ€§**ï¼š
  - âœ… **å®‰å…¨**ï¼šé˜²æ­¢æ¸²æŸ“è¿›ç¨‹ç›´æ¥è®¿é—®ç³»ç»Ÿèµ„æº
  - âœ… **æœ€ä½³å®è·µ**ï¼šåªæš´éœ²éœ€è¦çš„ APIï¼Œä¸æ˜¯æ•´ä¸ª Node.js
  - âœ… **æ¨èä½¿ç”¨**ï¼šElectron å®˜æ–¹å¼ºçƒˆæ¨èçš„æ–¹å¼
- **ä½¿ç”¨åœºæ™¯**ï¼š
  - éœ€è¦åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­è°ƒç”¨ Node.js åŠŸèƒ½æ—¶
  - éœ€è¦ä¸ä¸»è¿›ç¨‹é€šä¿¡æ—¶
  - éœ€è¦è®¿é—®ç³»ç»ŸåŠŸèƒ½æ—¶ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€ç³»ç»Ÿå¯¹è¯æ¡†ç­‰ï¼‰

## ğŸ“¦ éœ€è¦å®‰è£…çš„æ’ä»¶

### æ ¸å¿ƒä¾èµ–
```json
{
  "electron": "^39.2.7",           // Electron æ ¸å¿ƒæ¡†æ¶
  "electron-builder": "^26.0.12"   // åº”ç”¨æ‰“åŒ…å·¥å…·
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. è¿è¡Œå¼€å‘æ¨¡å¼
```bash
npm start        # æ™®é€šå¯åŠ¨
npm run dev      # å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼‰
```

### 3. æ‰“åŒ…åº”ç”¨
```bash
npm run build          # æ‰“åŒ…å½“å‰å¹³å°
npm run build:mac      # æ‰“åŒ… macOS ç‰ˆæœ¬ï¼ˆ.dmg + .zipï¼‰
npm run build:win      # æ‰“åŒ… Windows ç‰ˆæœ¬ï¼ˆ.exe + .zipï¼‰
npm run build:linux    # æ‰“åŒ… Linux ç‰ˆæœ¬ï¼ˆAppImage + .debï¼‰
```

æ‰“åŒ…åçš„æ–‡ä»¶ä¼šè¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… å¯è§†åŒ– "Hello World" ç•Œé¢
- âœ… ç°ä»£åŒ–æ¸å˜è®¾è®¡é£æ ¼
- âœ… æ˜¾ç¤º Nodeã€Chromeã€Electron ç‰ˆæœ¬ä¿¡æ¯
- âœ… ä½¿ç”¨å®‰å…¨çš„ Preload æ¨¡å¼ï¼ˆæ¨èï¼‰
- âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†
- âœ… å¼€å‘è€…å·¥å…·æ”¯æŒ
- âœ… è·¨å¹³å°æ‰“åŒ…ï¼ˆmacOSã€Windowsã€Linuxï¼‰

## ğŸ”§ å¼€å‘è¯´æ˜

### ä¸¤ç§é…ç½®æ¨¡å¼å¯¹æ¯”

#### ğŸ”’ **å®‰å…¨æ¨¡å¼ï¼ˆå½“å‰ä½¿ç”¨ï¼Œæ¨èï¼‰**
```javascript
// src/main/main.js
webPreferences: {
  nodeIntegration: false,      // ç¦æ­¢æ¸²æŸ“è¿›ç¨‹ç›´æ¥ä½¿ç”¨ Node.js
  contextIsolation: true,      // å¯ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
  preload: path.join(__dirname, '../preload/preload.js')
}
```
- âœ… å®‰å…¨æ€§é«˜ï¼Œç¬¦åˆæœ€ä½³å®è·µ
- âœ… é˜²æ­¢ XSS æ”»å‡»
- âœ… Electron å®˜æ–¹æ¨è
- âš ï¸ éœ€è¦é€šè¿‡ preload.js æš´éœ² API

#### âš¡ **ç®€å•æ¨¡å¼ï¼ˆå­¦ä¹ ç”¨ï¼Œä¸æ¨èç”Ÿäº§ï¼‰**
```javascript
webPreferences: {
  nodeIntegration: true,       // å…è®¸æ¸²æŸ“è¿›ç¨‹ç›´æ¥ä½¿ç”¨ Node.js
  contextIsolation: false      // ç¦ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
}
```
- âœ… ä½¿ç”¨ç®€å•ï¼Œç›´æ¥è®¿é—® Node.js
- âŒ å®‰å…¨æ€§ä½ï¼Œæœ‰æ½œåœ¨é£é™©
- âŒ ä¸ç¬¦åˆæœ€ä½³å®è·µ

### å¦‚ä½•åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­ä½¿ç”¨ Node åŠŸèƒ½ï¼Ÿ

**é€šè¿‡ preload æš´éœ²çš„ APIï¼ˆå®‰å…¨ï¼‰ï¼š**
```javascript
// åœ¨ renderer.js ä¸­
window.electronAPI.versions.node()  // è·å– Node ç‰ˆæœ¬
window.electronAPI.sendMessage('Hello')  // å‘é€æ¶ˆæ¯åˆ°ä¸»è¿›ç¨‹
```

## ğŸ“š åç»­å¼€å‘æŒ‡å—

### 1. æ·»åŠ  IPC é€šä¿¡ï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰
åœ¨ `src/main/main.js` ä¸­ï¼š
```javascript
const { ipcMain } = require('electron')
ipcMain.on('message', (event, data) => {
  console.log('æ”¶åˆ°æ¶ˆæ¯:', data)
  event.reply('reply', 'å“åº”æ•°æ®')
})
```

### 2. é›†æˆå‰ç«¯æ¡†æ¶
- **React**: å¯ä»¥åœ¨ `src/renderer/` ä¸­ä½¿ç”¨ Create React App
- **Vue**: å¯ä»¥ä½¿ç”¨ Vue CLI + Electron
- **Vite**: æ¨èä½¿ç”¨ `vite-plugin-electron` æå‡å¼€å‘ä½“éªŒ

### 3. æ·»åŠ åº”ç”¨å›¾æ ‡
å°†å›¾æ ‡æ–‡ä»¶æ”¾åœ¨ `assets/icons/` ç›®å½•ï¼Œç„¶ååœ¨ `package.json` çš„ `build` é…ç½®ä¸­å¼•ç”¨ã€‚

### 4. ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…
ç›´æ¥ `npm install` å³å¯ï¼Œåœ¨ä¸»è¿›ç¨‹å’Œ preload è„šæœ¬ä¸­éƒ½å¯ä»¥ä½¿ç”¨ Node.js åŒ…ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Electron**: æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Node.js**: v22.12.0ï¼ˆæ¨èç‰ˆæœ¬ï¼‰
- **Chromium**: è‡ªåŠ¨åŒ…å«åœ¨ Electron ä¸­
- **electron-builder**: è·¨å¹³å°æ‰“åŒ…å·¥å…·

## ğŸ“– å‚è€ƒèµ„æº

- [Electron å®˜æ–¹æ–‡æ¡£](https://www.electronjs.org/docs/latest/)
- [Electron ä¸­æ–‡æ–‡æ¡£](https://www.electronjs.org/zh/docs/latest/)
- [è¿›ç¨‹æ¨¡å‹è¯´æ˜](https://www.electronjs.org/docs/latest/tutorial/process-model)
- [å®‰å…¨æœ€ä½³å®è·µ](https://www.electronjs.org/docs/latest/tutorial/security)

---

**Happy Coding! ğŸš€**
